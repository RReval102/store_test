# Проект автотестов для Swagger Petstore

Этот репозиторий содержит пример набора функциональных автотестов для
[Swagger Petstore](https://petstore.swagger.io). В тестах используется
Python 3, фреймворк **pytest** и библиотека **requests** для выполнения
HTTP‑запросов. Проект может служить основой для разработки более
масштабного набора тестов: структура файлов, фабрики данных и
``api_client`` упрощают масштабирование до сотен сценариев.

## Возможности

- Покрытие основных методов REST API: **GET**, **POST**, **PUT** и
  **DELETE**.
- Примеры тестов для сущностей **Pet**, **Store** и **User**, включая
  работу с параметрами в query‑строке и теле запроса.
- Использование генераторов случайных данных для создания уникальных
  объектов (питомцев, заказов, пользователей), что позволяет запускать
  тесты параллельно без конфликтов.
- Общий клиент `PetStoreClient` для упрощения отправки запросов и
  централизованной обработки ответов.

## Установка

1. Клонируйте репозиторий и перейдите в его каталог:

   ```bash
   git clone <URL вашего репозитория>
   cd petstore_tests
   ```

2. Создайте виртуальное окружение (рекомендуется) и активируйте его:

   ```bash
   python3 -m venv .venv
   source .venv/bin/activate
   ```

3. Установите зависимости:

   ```bash
   pip install -r requirements.txt
   ```

## Запуск тестов

Запустите все тесты командой:

```bash
pytest -v
```

По умолчанию тесты используют публичный сервер по адресу
`https://petstore.swagger.io/v2`. При необходимости можно переопределить
базовый URL, передав переменную окружения `PETSTORE_BASE_URL`:

```bash
PETSTORE_BASE_URL=http://localhost:8080/v2 pytest -v
```

## Структура проекта

```
petstore_tests/
├── README.md           – этот файл
├── requirements.txt    – список зависимостей
├── pytest.ini          – конфигурация pytest
├── conftest.py         – фикстуры для тестов
├── utils/
│   ├── __init__.py
│   ├── api_client.py   – реализация клиента для API
│   └── data_generators.py – генераторы случайных данных
└── tests/
    ├── __init__.py
    ├── test_pet_endpoints.py    – тесты для сущности Pet
    ├── test_store_endpoints.py  – тесты для сущности Store
    ├── test_user_endpoints.py   – тесты для сущности User
    └── test_login_logout.py     – тесты для входа и выхода пользователя
```

## Замечания

- API является демонстрационным сервисом, поэтому некоторые ответы
  могут быть нестабильными. Тесты стараются учитывать возможные
  вариации кодов ответов (например, `200` или `201` при создании
  ресурса). При необходимости дополняйте проверки в соответствии с
  требованиями вашего проекта.
- Описание эндпоинтов и их назначение взято из официальной спецификации
  Swagger Petstore. Например, метод `POST /pet` добавляет нового
  питомца в магазин, что указано в спецификации【434211662711270†L22-L27】.
